{% extends 'chartLayout.html' %}

{% block title %} SEAS | ClassSizeRequirement {% endblock  %}

{% block heading %} Classroom requirement as per course offering (Summary) {% endblock  %}

{% block content %} 
{% load static %}
<meta id="viewport" name="viewport" content ="width=device-width" />
<link rel="stylesheet" type="text/css" href="{% static 'seas/css/font-awesome.min.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'seas/css/util.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'seas/css/main.css' %}" />

<form style="text-align: center; width: 330px;" action="" method="post">
	{% csrf_token %}
	
	<div class="container-login100-form-btn" >
		<select name="semester" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" style="margin-left: 6%;">
			<option selected>Semester</option>
			<option value="Summer">Summer</option>
			<option value="Spring">Spring</option>
			<option value="Autumn">Autumn</option>
		</select>
		<select name="year" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
			<option selected>Year</option>
			<option value="2009">2009</option>
			<option value="2010">2010</option>
			<option value="2011">2011</option>
			<option value="2012">2012</option>
			<option value="2013">2013</option>
			<option value="2014">2014</option>
			<option value="2015">2015</option>
			<option value="2016">2016</option>
			<option value="2017">2017</option>
			<option value="2018">2018</option>
			<option value="2019">2019</option>
			<option value="2020">2020</option>
			<option value="2021">2021</option>
		</select>
		<button class="btn btn-primary btn-lg" style="margin-left: 10%;">
			Generate
		</button>
	</div>
</form>
	<div class="table-data"> 
		<div class="order"> <h3> {{str}} </h3>
			<div> 
				<table border="3" cellpadding = "5" cellspacing="5"  style="background-color:#DAEDF4;">
					
					{% for row in table %}
						<tr>
							{% for col in row %}
								<td style="text-align:center">
									{{ col }}
								</td>
							{% endfor %}
						</tr>
					{% endfor %}
					
					
				
				</table>
		
			</div>
		</div>
	</div>

	
	<!-- WRITE CODE HERE TO SHOW CHART (Zannat started)-->
	<div class="table-data">
		
			<div>
				<h3>Class Size 6 requirement ( {{str}} )</h3>
				<canvas id = 'classSizeRequirementChart' width = "700" height = "600">

				</canvas>
		
			</div>
			<!-- THIS IS THE JAVASCRIPT THAT WILL CONTROL THE BEHAVIOUR OF THIS CHART ELEMENT -->
			<script>
				const ctx = document.getElementById('classSizeRequirementChart')
				
				const datalist = {
					labels: [{% for label in labels %} '{{ label }}', {% endfor %}],
					{% comment %} labels: labels, {% endcomment %}
					datasets: [{
						label: 'Class Size Requirement',
						backgroundColor: [
						'rgb(226, 78, 66)', //papaya
						'rgb(233, 128, 0)', //mustard
						'rgb(0, 143, 149)', //aqua
						'rgb(232, 110, 128)', //blush pink
						'rgb(255, 99, 132)',
						'rgb(54, 162, 235)',
						'rgb(255, 205, 86)'
					  ],
						{% comment %} borderColor: 'rgb(255, 99, 132)', {% endcomment %}
						data: [{% for value in datavalues %} {{ value }}, {% endfor %}],
					}]
				}
				//Here chart is a constructor and we're passing parameters
				const myChart = new Chart(
					ctx,
					{
						type: 'pie',
						data: datalist,
						options: {}
						}
  					)
			</script>
		
	
	<!-- (Zannat ended edition)-->
	
		
		<div>
			<h3>Class Size 7 requirement ( {{str}} )</h3>
			<canvas id = 'classSize7RequirementChart' width = "700" height = "600">

			</canvas>
	
		</div>
		<!-- THIS IS THE JAVASCRIPT THAT WILL CONTROL THE BEHAVIOUR OF THIS CHART ELEMENT -->
		<script>
			const ctx2 = document.getElementById('classSize7RequirementChart')
		
			const datalist2 = {
				labels: [{% for label in labels %} '{{ label }}', {% endfor %}],
				{% comment %} labels: labels, {% endcomment %}
				datasets: [{
					label: 'Class Size 7 Requirement',
					backgroundColor: [
					'rgb(226, 78, 66)', //papaya
					'rgb(233, 128, 0)', //mustard
					'rgb(0, 143, 149)', //aqua
					'rgb(232, 110, 128)', //blush pink
					'rgb(255, 99, 132)',
					'rgb(54, 162, 235)',
					'rgb(255, 205, 86)'
				  ],
					{% comment %} borderColor: 'rgb(255, 99, 132)', {% endcomment %}
					data: [{% for value in datavalues2 %} {{ value }}, {% endfor %}],
				}]
			}
			//Here chart is a constructor and we're passing parameters
			const myChart2 = new Chart(
				ctx2,
				{
					type: 'pie',
					data: datalist2,
					options: {}
					}
				  )
		</script>
	
	</div>

{% endblock %}